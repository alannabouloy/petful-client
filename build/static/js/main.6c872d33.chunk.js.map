{"version":3,"sources":["cat-and-dog.jpg","components/Button/Button.js","components/Pet/Pet.js","components/PetSelection/PetSelection.js","components/AdoptionSection/AdoptionSection.js","components/Header/Header.js","components/NameForm/NameForm.js","components/PeopleList/PeopleList.js","components/Queue/Queue.js","config.js","services/api-service.js","helper.js","routes/AdoptionPage/AdoptionPage.js","routes/LandingPage/LandingPage.js","components/App/App.js","index.js"],"names":["module","exports","Button","props","type","className","buttonText","adopt","onClick","handleAdopt","Pet","pet","name","src","imageURL","alt","description","age","gender","breed","story","PetSelection","pets","button","cat","dog","map","i","key","AdoptionSection","adoptionMsg","adopting","message","user","Header","NameForm","state","changeName","e","target","value","setState","onSubmit","preventDefault","addUser","id","htmlFor","placeholder","required","onChange","Component","PeopleList","people","person","Queue","process","ApiService","getPeople","fetch","config","method","headers","then","res","ok","json","Promise","reject","enqueuePerson","body","JSON","stringify","dequeuePerson","getPets","dequeuePet","petType","Math","random","AdoptionPage","userInQueue","handleJoinQueue","timedEnqueue","handlePetAdoption","helper","length","checkUser","timedDequeue","userIndex","findIndex","slice","setTimeout","getTopOfQueue","topOfQueue","this","LandingPage","image","to","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c872d33.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cat-and-dog.0756f5a0.jpg\";","import React from 'react'\nimport './Button.css'\n\nexport default function Button(props){\n    if(props.type){\n        return(\n            <div className='button-div'>\n                <button type={props.type}>\n                    {props.buttonText}\n                </button>\n            </div>\n            \n        )\n    }\n    if(props.adopt)\n    return (\n        <div className='button-div'>\n            <button onClick={() => props.handleAdopt(props.adopt)}>\n                {props.buttonText}\n            </button>\n        </div>\n    )\n    \n}","import React from 'react'\nimport Button from '../Button/Button'\nimport './Pet.css'\n\nexport default function Pet(props){\n    if(props.pet.name){\n        return(\n            <div className='pet'>\n                <img src={props.pet.imageURL} alt={props.pet.description}/>\n                <div className='desc'>\n                <p>Hi! My name is {props.pet.name}. I'm a {props.pet.age} year-old {props.pet.gender} {props.pet.breed}. My story? {props.pet.story}</p>\n                </div>\n                <Button handleAdopt={props.handleAdopt} adopt={props.pet.type} buttonText='Adopt Me'/>\n            </div>\n        )\n    }\n    return <div></div>\n}","import React from 'react'\nimport Pet from '../Pet/Pet'\nimport Button from '../Button/Button'\nimport './PetSelection.css'\n\nexport default function PetSelection(props){\n    let pets = 'All of the pets have been adopted! Yay!!'\n    let button=<div className='button-div'></div>\n    if(props.pets.cat || props.pets.dog){\n        pets = [props.pets.cat, props.pets.dog].map((pet, i) => <Pet handleAdopt={props.handleAdopt} key={i} pet={pet}/>)\n        button = (\n            <Button handleAdopt={props.handleAdopt} adopt='both' buttonText='Adopt Both'/>\n        )\n    }\n    return (\n        <div>\n            <div className='pet-selection'>\n                {pets}\n            </div>\n            <div className='adopt-both'>\n                    {button}\n            </div>\n        </div>\n    )\n        \n}","import React from 'react'\nimport PetSelection from '../PetSelection/PetSelection'\nimport './AdoptionSection.css'\n\nexport default function AdoptionSection(props){\n    let adoptionMsg='There is no one in line at the moment.'\n    \n    if(props.name){\n        adoptionMsg = `${props.name}, it's time to pick your new pet!`\n        \n        if(props.adopting){\n            adoptionMsg = props.message\n        }\n    }\n    \n    if(props.user.name){\n        return(\n            <section className='adoption'>\n                <PetSelection pets={props.pets} handleAdopt={props.handleAdopt}/>\n                <div className='adoption-msg'>\n                    <h3>{adoptionMsg}</h3>\n                </div>\n            </section>\n        )\n    }\n    \n    return(\n        <section className='adoption'>\n            <div className='adoption-msg'>\n                <h3>{adoptionMsg}</h3>\n            </div>\n        </section>\n    )\n}","import React from 'react'\nimport './Header.css'\n\nexport default function Header(props){\n    return (\n        <div>\n            <header>\n                <h1>Petful Adoption Site</h1>\n            </header>\n        </div>\n    )\n}","import React, { Component } from 'react'\nimport Button from '../Button/Button'\nimport './NameForm.css'\n\nexport default class NameForm extends Component{\n    state = {\n        name: ''\n    }\n    \n    changeName = e => {\n        const name = e.target.value\n        this.setState({name})\n    }\n\n    onSubmit = e => {\n        e.preventDefault()\n        const name = this.state.name\n        this.props.addUser(name)\n    }\n\n    render(){\n        return (\n            <form id='name-form'onSubmit={e => this.onSubmit(e)}>\n                <div className='form-label'>\n                    <label htmlFor='name'>Full Name: </label>\n                </div>\n                <div className='form-field'>\n                <input type='text' id='name'  placeholder='Jane Doe' required onChange={e => this.changeName(e)}/>\n                </div>\n                <Button type='submit' buttonText='Submit'/>\n            </form>\n        )\n    }\n    \n}","import React from 'react'\nimport './PeopleList.css'\n\nexport default function PeopleList(props){\n    const people = props.people.map((person, i) => <li key={i}>{person.name}</li>) || []\n    return <div className='people-queue'>\n        <ol>\n            {people}\n        </ol>\n    </div>\n}","import React from 'react'\nimport NameForm from '../NameForm/NameForm'\nimport PeopleList from '../PeopleList/PeopleList'\nimport './Queue.css'\n\nexport default function Queue(props){\n    return(\n        <section className='queue'>\n            <h3>People waiting to adopt:</h3>\n            <PeopleList people={props.people}/>\n           \n           \n            <div className='join-queue'>\n                <h3>Join the queue!</h3>\n                <NameForm addUser={props.addUser}/>\n            </div>\n            \n        </section>\n    )\n}","export default {\n    API_ENDPOINT: \"https://mysterious-thicket-57581.herokuapp.com/api\",\n    API_TOKEN: process.env.REACT_APP_API_TOKEN\n}\n\n","import config from '../config'\n\nconst ApiService = {\n    //function to GET people\n    getPeople(){\n        return fetch(`${config.API_ENDPOINT}/people`, {\n            method: 'GET',\n            headers: {\n                'authorization': `Bearer ${config.API_TOKEN}`\n            }\n        })\n        .then(res => \n            (!res.ok)\n            ?res.json().then(e => Promise.reject(e))\n            :res.json()\n            )\n    },\n    //function to POST person to queue\n    enqueuePerson(person){\n        if(person){\n            return fetch(`${config.API_ENDPOINT}/people`, {\n                method: 'POST',\n                headers: {\n                    'authorization': `Bearer ${config.API_TOKEN}`,\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify(person)\n            })\n            .then(res => \n                (!res.ok)\n                    ?res.json().then(e => Promise.reject(e))\n                    :res.json()\n                    )\n        }\n        else{\n            return fetch(`${config.API_ENDPOINT}/people`, {\n                method: 'POST',\n                headers: {\n                    'authorization': `Bearer ${config.API_TOKEN}`\n                }\n            })\n                .then(res =>\n                    (!res.ok)\n                        ?res.json().then(e => Promise.reject(e))\n                        :res.json()\n                        )\n            \n        }\n        \n    },\n    //function to dequeue person\n    dequeuePerson(){\n        return fetch(`${config.API_ENDPOINT}/people`, {\n            method: 'DELETE',\n            headers: {\n                'authorization': `Bearer ${config.API_TOKEN}`\n            }\n        })\n        .then(res => \n            (!res.ok)\n            ?res.json().then(e => Promise.reject(e))\n            :res.json()\n            )\n    },\n    //function to GET animals\n    getPets(){\n        return fetch(`${config.API_ENDPOINT}/pets`, {\n            method: 'GET',\n            headers: {\n                'authorization': `Bearer ${config.API_TOKEN}`\n            }\n        })\n        .then(res => \n            (!res.ok)\n            ?res.json().then(e => Promise.reject(e))\n            :res.json()\n            )\n    },\n    //function to DEQUEUE an animal\n    dequeuePet(petType){\n        return fetch(`${config.API_ENDPOINT}/pets`, {\n            method: 'DELETE',\n            headers: {\n                'authorization': `Bearer ${config.API_TOKEN}`,\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({'type': petType})\n            \n        })\n        .then(res => \n            (!res.ok)\n            ?res.json().then(e => Promise.reject(e))\n            :res.json()\n            )\n    }\n}\n\nexport default ApiService","export default {\n    generatePet(){\n        const coinFlip = Math.random()\n        if(coinFlip < 0.5){\n            return 'cat'\n        }else {\n            return 'dog'\n        }\n    }\n}","import React, { Component } from \"react\";\nimport AdoptionSection from \"../../components/AdoptionSection/AdoptionSection\";\nimport Header from \"../../components/Header/Header\";\nimport Queue from \"../../components/Queue/Queue\";\nimport ApiService from \"../../services/api-service\";\nimport helper from \"../../helper\";\nimport './AdoptionPage.css'\n\nexport default class AdoptionPage extends Component {\n  state = {\n    people: [],\n    pets: {\n      cat: {},\n      dog: {},\n    },\n    userInQueue: false,\n    adopting: false,\n    user: {},\n    message: ''\n  };\n  componentDidMount() {\n    ApiService.getPeople()\n      .then((res) => {\n        const people = res;\n        this.setState({ people });\n        this.checkUser()\n      })\n      .then(() => {\n          ApiService.getPets()\n          .then(res => {\n              const pets = res\n              this.setState({pets})\n          })\n          .then(() => this.timedDequeue());\n      })\n      \n  }\n  handleJoinQueue = () => {\n    this.enqueuePerson(this.state.user).then(() => {\n      this.timedEnqueue();\n    });\n  };\n\n  handlePetAdoption = (petType) => {\n    if (!petType) {\n      petType = helper.generatePet();\n    }\n    if (this.state.people.length === 0) {\n      return;\n    }\n    if (petType === \"both\") {\n      ApiService.dequeuePerson().then(res => {\n          const person = res\n          ApiService.getPeople()\n            .then((res) => {\n                const people = res;\n                this.setState({ people });\n          })\n            .then(() => {\n              ApiService.getPets()\n                .then(res => {\n                    const pets = res\n                    this.setState({pets})\n                })\n                .then(() => {\n                    ApiService.dequeuePet(\"cat\").then((res) => {\n                      const cat = res;\n                      ApiService.dequeuePet(\"dog\").then((res) => {\n                        const dog = res;\n                        const message = `Yay! ${person.name} has adopted ${cat.name} and ${dog.name}!`;\n                        this.setState({message})\n                        this.setState({adopting: true})\n                        this.checkUser()\n                      })\n                      .then(this.timedDequeue())\n                    });\n                  })\n                  \n                })\n          }) \n    } else{\n        ApiService.dequeuePerson().then((res) => {\n            const person = res;\n            ApiService.getPeople()\n              .then((res) => {\n                const people = res;\n                this.setState({ people });\n              })\n              .then(() => {\n                  ApiService.getPets()\n                  .then(res => {\n                      const pets = res\n                      this.setState({pets})\n                  })\n                  .then(() => {\n                      ApiService.dequeuePet(petType).then((res) => {\n                        const pet = res;\n                        const message = `Yay! ${person.name} has adopted ${pet.name}!`;\n                        this.setState({message})\n                        this.setState({adopting: true})\n                        this.checkUser()\n                      })\n                      .then(this.timedDequeue());\n                    })\n                    \n              }) \n          });\n    }\n  };\n\n  enqueuePerson = (person) => {\n    if (person) {\n      ApiService.enqueuePerson(person).then((res) => {\n        const people = res;\n        this.setState({ people }) \n      })\n      .then(() => this.timedEnqueue())\n    } else {\n      ApiService.enqueuePerson().then((res) => {\n        const people = res;\n        this.setState({ people });\n      })\n      .then(() => this.timedEnqueue())\n    }\n  };\n\n  timedEnqueue = () => {\n    const userIndex = this.state.people.findIndex(\n      (person) => person.user === true\n    );\n    if(userIndex < 0){\n        this.timedDequeue()\n        return\n    }   //check if 5 people in queue behind user\n    const behindUser = this.state.people.slice(\n        userIndex + 1,\n        this.state.people.length\n      );\n    if (behindUser.length >= 5) {\n        //returns if true\n        return;\n      }\n      setTimeout(() => {\n          this.enqueuePerson()\n      }, 5000);\n  };\n\n  timedDequeue = () => {\n    this.setState({adopting: false})\n    ApiService.getPeople().then(res => {\n        const people = res\n        this.setState({people})\n\n        if (this.state.people.length === 0) {\n            return;\n          }\n      \n          if (this.state.people[0].user) {\n            return;\n          }\n      \n  \n          setTimeout(() => {\n              this.handlePetAdoption()\n          }, 5000);\n    })\n    \n  };\n\n  getTopOfQueue = () => {\n    if (this.state.people.length > 0) {\n      return this.state.people[0].name;\n    }\n    return null;\n  };\n\n  addUser = name => {\n      const user = {\n          name: name,\n          user: true\n      }\n      this.setState({user})\n      this.enqueuePerson(user) \n  }\n\n  checkUser = () => {\n      const userIndex = this.state.people.findIndex(person => person.user)\n      if(userIndex >= 0){\n          const user = this.state.people[userIndex]\n          this.setState({user})\n      }\n      else{\n          this.setState({user: { }})\n      }\n  }\n\n  render() {\n    let topOfQueue = this.getTopOfQueue();\n    return (\n      <div className='adoption-page'>\n        <Header />\n        <AdoptionSection\n          pets={this.state.pets}\n          name={topOfQueue}\n          adopting={this.state.adopting}\n          message={this.state.message}\n          user={this.state.user}\n          handleAdopt={this.handlePetAdoption}\n        />\n        <Queue people={this.state.people} addUser={this.addUser} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport Header from '../../components/Header/Header'\nimport image from '../../cat-and-dog.jpg'\nimport {Link} from 'react-router-dom'\nimport './LandingPage.css'\n\n\nexport default class LandingPage extends Component {\n    render(){\n        return (\n            <div className='landing-page'>\n                <Header />\n                <img className='main-image' alt='cat and dog snuggling' src={image}/>\n                <section className='welcome'>\n                    <div className='welcome-heading'>\n                        <h2>Welcome to the Petful Adoption Site!</h2>\n                    </div>\n                    <div className='welcome-msg'>\n                        <p>\n                            Here at Petful, we're dedicated to making sure that every pet finds their forever home.\n                            That's why we have a well-developed system for the adoption process.\n                        </p>\n                        <p>\n                            Once you click on the button down below, you'll be taken to our Adoption page where you can see a list of the people in line to adopt. At any point,\n                            you'll be able to join the list of people waiting to adopt. Once you've joined the queue, you'll be able to see the current pets up for adoption.\n                        </p> \n                        <p>\n                            To make sure that each animal finds their forever home, Petful only displays the animals next in line for adoption at any given point.\n                            Once your name pops up in queue, you'll be able to see whichever animals are next in line, and choose if you'd like to adopt them.\n                            If you're not crazy about the animal you see, you can always choose not to adopt and rejoin the line to see if you'll fit better\n                            with the next animal.\n                        </p>\n                        <p>\n                            Be warned! We have a limited number of animals at the shelter, and if we run out before your name is called,\n                            you'll have to wait until we get more in.\n                        </p>\n                        <p>\n                            Now that you know the process, you can click the button down below to get started. Your new furry companion is just a click away!\n                        </p>\n                    </div>\n                    <Link to='/adoption'>\n                        <div className='link-div'>\n                            Get Started\n                        </div> \n                    </Link>\n                    \n                </section>\n                \n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport {Route} from 'react-router-dom'\nimport AdoptionPage from '../../routes/AdoptionPage/AdoptionPage'\nimport LandingPage from '../../routes/LandingPage/LandingPage'\nimport './App.css'\n\n\nexport default class App extends Component { \n    render(){\n        return(\n            <div className='app'>\n                <Route exact path='/' component={LandingPage}/>\n                <Route path='/adoption' component={AdoptionPage}/>\n            </div>\n        )\n    }\n}","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './components/App/App'\n\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'))\n"],"sourceRoot":""}