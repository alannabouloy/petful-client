(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/cat-and-dog.0756f5a0.jpg"},23:function(e,t,n){e.exports=n(45)},24:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);n(24);var a=n(0),o=n.n(a),r=n(20),c=n.n(r),u=n(12),i=n(6),l=n(7),s=n(9),p=n(8),m=n(10),d=n(1);n(29);function h(e){return e.type?o.a.createElement("div",{className:"button-div"},o.a.createElement("button",{type:e.type},e.buttonText)):e.adopt?o.a.createElement("div",{className:"button-div"},o.a.createElement("button",{onClick:function(){return e.handleAdopt(e.adopt)}},e.buttonText)):void 0}n(30);function f(e){return e.pet.name?o.a.createElement("div",{className:"pet"},o.a.createElement("img",{src:e.pet.imageURL,alt:e.pet.description}),o.a.createElement("div",{className:"desc"},o.a.createElement("p",null,"Hi! My name is ",e.pet.name,". I'm a ",e.pet.age," year-old ",e.pet.gender," ",e.pet.breed,". My story? ",e.pet.story)),o.a.createElement(h,{handleAdopt:e.handleAdopt,adopt:e.pet.type,buttonText:"Adopt Me"})):o.a.createElement("div",null)}n(31);function v(e){var t="All of the pets have been adopted! Yay!!",n=o.a.createElement("div",{className:"button-div"});return(e.pets.cat||e.pets.dog)&&(t=[e.pets.cat,e.pets.dog].map((function(t,n){return o.a.createElement(f,{handleAdopt:e.handleAdopt,key:n,pet:t})})),n=o.a.createElement(h,{handleAdopt:e.handleAdopt,adopt:"both",buttonText:"Adopt Both"})),o.a.createElement("div",null,o.a.createElement("div",{className:"pet-selection"},t),o.a.createElement("div",{className:"adopt-both"},n))}n(32);function E(e){var t="There is no one in line at the moment.";return e.name&&(t="".concat(e.name,", it's time to pick your new pet!"),e.adopting&&(t=e.message)),e.user.name?o.a.createElement("section",{className:"adoption"},o.a.createElement(v,{pets:e.pets,handleAdopt:e.handleAdopt}),o.a.createElement("div",{className:"adoption-msg"},o.a.createElement("h3",null,t))):o.a.createElement("section",{className:"adoption"},o.a.createElement("div",{className:"adoption-msg"},o.a.createElement("h3",null,t)))}n(33);function g(e){return o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement("h1",null,"Petful Adoption Site")))}n(34);var b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={name:""},n.changeName=function(e){var t=e.target.value;n.setState({name:t})},n.onSubmit=function(e){e.preventDefault();var t=n.state.name;n.props.addUser(t)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{id:"name-form",onSubmit:function(t){return e.onSubmit(t)}},o.a.createElement("div",{className:"form-label"},o.a.createElement("label",{htmlFor:"name"},"Full Name: ")),o.a.createElement("div",{className:"form-field"},o.a.createElement("input",{type:"text",id:"name",placeholder:"Jane Doe",required:!0,onChange:function(t){return e.changeName(t)}})),o.a.createElement(h,{type:"submit",buttonText:"Submit"}))}}]),t}(a.Component);n(35);function y(e){var t=e.people.map((function(e,t){return o.a.createElement("li",{key:t},e.name)}))||[];return o.a.createElement("div",{className:"people-queue"},o.a.createElement("ol",null,t))}n(36);function j(e){return o.a.createElement("section",{className:"queue"},o.a.createElement("h3",null,"People waiting to adopt:"),o.a.createElement(y,{people:e.people}),o.a.createElement("div",{className:"join-queue"},o.a.createElement("h3",null,"Join the queue!"),o.a.createElement(b,{addUser:e.addUser})))}var P="https://mysterious-thicket-57581.herokuapp.com/api",k="db7b428c-4b92-11eb-ae93-0242ac130002",q={getPeople:function(){return fetch("".concat(P,"/people"),{method:"GET",headers:{authorization:"Bearer ".concat(k)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},enqueuePerson:function(e){return e?fetch("".concat(P,"/people"),{method:"POST",headers:{authorization:"Bearer ".concat(k),"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})):fetch("".concat(P,"/people"),{method:"POST",headers:{authorization:"Bearer ".concat(k)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},dequeuePerson:function(){return fetch("".concat(P,"/people"),{method:"DELETE",headers:{authorization:"Bearer ".concat(k)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getPets:function(){return fetch("".concat(P,"/pets"),{method:"GET",headers:{authorization:"Bearer ".concat(k)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},dequeuePet:function(e){return fetch("".concat(P,"/pets"),{method:"DELETE",headers:{authorization:"Bearer ".concat(k),"content-type":"application/json"},body:JSON.stringify({type:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},w=function(){return Math.random()<.5?"cat":"dog"},N=(n(37),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={people:[],pets:{cat:{},dog:{}},userInQueue:!1,adopting:!1,user:{},message:""},n.handleJoinQueue=function(){n.enqueuePerson(n.state.user).then((function(){n.timedEnqueue()}))},n.handlePetAdoption=function(e){e||(e=w()),0!==n.state.people.length&&("both"===e?q.dequeuePerson().then((function(e){var t=e;q.getPeople().then((function(e){var t=e;n.setState({people:t})})).then((function(){q.getPets().then((function(e){var t=e;n.setState({pets:t})})).then((function(){q.dequeuePet("cat").then((function(e){var a=e;q.dequeuePet("dog").then((function(e){var o=e,r="Yay! ".concat(t.name," has adopted ").concat(a.name," and ").concat(o.name,"!");n.setState({message:r}),n.setState({adopting:!0}),n.checkUser()})).then(n.timedDequeue())}))}))}))})):q.dequeuePerson().then((function(t){var a=t;q.getPeople().then((function(e){var t=e;n.setState({people:t})})).then((function(){q.getPets().then((function(e){var t=e;n.setState({pets:t})})).then((function(){q.dequeuePet(e).then((function(e){var t=e,o="Yay! ".concat(a.name," has adopted ").concat(t.name,"!");n.setState({message:o}),n.setState({adopting:!0}),n.checkUser()})).then(n.timedDequeue())}))}))})))},n.enqueuePerson=function(e){e?q.enqueuePerson(e).then((function(e){var t=e;n.setState({people:t})})).then((function(){return n.timedEnqueue()})):q.enqueuePerson().then((function(e){var t=e;n.setState({people:t})})).then((function(){return n.timedEnqueue()}))},n.timedEnqueue=function(){var e=n.state.people.findIndex((function(e){return!0===e.user}));e<0?n.timedDequeue():n.state.people.slice(e+1,n.state.people.length).length>=5||setTimeout((function(){n.enqueuePerson()}),5e3)},n.timedDequeue=function(){n.setState({adopting:!1}),q.getPeople().then((function(e){var t=e;n.setState({people:t}),0!==n.state.people.length&&(n.state.people[0].user||setTimeout((function(){n.handlePetAdoption()}),5e3))}))},n.getTopOfQueue=function(){return n.state.people.length>0?n.state.people[0].name:null},n.addUser=function(e){var t={name:e,user:!0};n.setState({user:t}),n.enqueuePerson(t)},n.checkUser=function(){var e=n.state.people.findIndex((function(e){return e.user}));if(e>=0){var t=n.state.people[e];n.setState({user:t})}else n.setState({user:{}})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.getPeople().then((function(t){var n=t;e.setState({people:n}),e.checkUser()})).then((function(){q.getPets().then((function(t){var n=t;e.setState({pets:n})})).then((function(){return e.timedDequeue()}))}))}},{key:"render",value:function(){var e=this.getTopOfQueue();return o.a.createElement("div",{className:"adoption-page"},o.a.createElement(g,null),o.a.createElement(E,{pets:this.state.pets,name:e,adopting:this.state.adopting,message:this.state.message,user:this.state.user,handleAdopt:this.handlePetAdoption}),o.a.createElement(j,{people:this.state.people,addUser:this.addUser}))}}]),t}(a.Component)),O=n(21),S=n.n(O),A=(n(38),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing-page"},o.a.createElement(g,null),o.a.createElement("img",{className:"main-image",alt:"cat and dog snuggling",src:S.a}),o.a.createElement("section",{className:"welcome"},o.a.createElement("div",{className:"welcome-heading"},o.a.createElement("h2",null,"Welcome to the Petful Adoption Site!")),o.a.createElement("div",{className:"welcome-msg"},o.a.createElement("p",null,"Here at Petful, we're dedicated to making sure that every pet finds their forever home. That's why we have a well-developed system for the adoption process."),o.a.createElement("p",null,"Once you click on the button down below, you'll be taken to our Adoption page where you can see a list of the people in line to adopt. At any point, you'll be able to join the list of people waiting to adopt. Once you've joined the queue, you'll be able to see the current pets up for adoption."),o.a.createElement("p",null,"To make sure that each animal finds their forever home, Petful only displays the animals next in line for adoption at any given point. Once your name pops up in queue, you'll be able to see whichever animals are next in line, and choose if you'd like to adopt them. If you're not crazy about the animal you see, you can always choose not to adopt and rejoin the line to see if you'll fit better with the next animal."),o.a.createElement("p",null,"Be warned! We have a limited number of animals at the shelter, and if we run out before your name is called, you'll have to wait until we get more in."),o.a.createElement("p",null,"Now that you know the process, you can click the button down below to get started. Your new furry companion is just a click away!")),o.a.createElement(u.b,{to:"/adoption"},o.a.createElement("div",{className:"link-div"},"Get Started"))))}}]),t}(a.Component)),T=(n(44),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(d.a,{exact:!0,path:"/",component:A}),o.a.createElement(d.a,{path:"/adoption",component:N}))}}]),t}(a.Component));c.a.render(o.a.createElement(u.a,null,o.a.createElement(T,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.6c872d33.chunk.js.map